(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,n){e.exports=n(417)},175:function(e,t,n){},177:function(e,t,n){},4:function(e,t,n){},417:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(163),i=n.n(l),o=(n(175),n(102)),d=n.n(o),c=n(164),s=n(34),u=n(169),_=(n(177),n(165)),m=n.n(_),h=function(e){return r.a.createElement(m.a,{data:e.data})},p=n(35),f=n(43),b=n(4),g=n.n(b),v=n(36),y={parent_node_id:"",node_value_display:"",left_or_right:"",number_children:""},E=v.object().shape({parent_node_id:v.string().required(),node_value_display:v.string().required(),left_or_right:v.string().required(),number_children:v.string()});var w=function(e){var t=Object(a.useState)(y),n=Object(s.a)(t,2),l=n[0],i=n[1];return""!==l.node_value_display&&e.handleValues(l),r.a.createElement(a.Fragment,null,r.a.createElement(f.b,{initialValues:l,onSubmit:function(e,t){console.log(t),t.setSubmitting(!0),i(e),setTimeout(function(){t.resetForm(y),t.setSubmitting(!1)},2e3)},validationSchema:E},function(e){return e.isSubmitting?r.a.createElement("div",{className:g.a.overlay}):r.a.createElement("form",{onSubmit:e.handleSubmit,className:g.a.form},r.a.createElement(f.a,{type:"parent_node_id",placeholder:"Enter parent_node_id",onChange:e.handleChange,name:"parent_node_id",value:e.values.parent_node_id,className:g.a.text_field}),e.errors.parent_node_id&&e.touched.parent_node_id?r.a.createElement("span",{className:g.a.field_text},e.errors.parent_node_id):"",r.a.createElement(f.a,{type:"node_value_display",placeholder:"Enter node_value_display",onChange:e.handleChange,name:"node_value_display",value:e.values.node_value_display,className:g.a.text_field}),e.errors.node_value_display&&e.touched.node_value_display?r.a.createElement("span",{className:g.a.field_text},e.errors.node_value_display):"",r.a.createElement(f.a,{name:"left_or_right",onChange:e.handleChange,value:e.values.left_or_right,type:"text",placeholder:"left_or_right",className:g.a.text_field}),e.errors.left_or_right&&e.touched.left_or_right?r.a.createElement("span",{className:g.a.field_text},e.errors.left_or_right):"",r.a.createElement("button",{type:"submit",disabled:!e.dirty&&!e.isSubmitting,className:"".concat(g.a.button," ").concat(g.a.submit_button)},"Submit"),r.a.createElement("button",{disabled:!e.dirty,onClick:e.handleReset,type:"button",className:g.a.button},"Reset"))}),r.a.createElement("span",{className:"output"},JSON.stringify(l,null,2)))},j=5,S={1:0,2:1,3:2,4:1},O={node_value_display:"1",id:1,member_details:Object(p.a)({left_or_right:"root",number_children:"2"}),children:[{node_value_display:"2",id:2,member_details:Object(p.a)({left_or_right:"left",number_children:"1"}),children:[{node_value_display:"5",id:3,member_details:Object(p.a)({left_or_right:"right",number_children:"0"}),children:[]}]},{node_value_display:"3",id:4,member_details:Object(p.a)({left_or_right:"right",number_children:"0"}),children:[]}]};function N(e,t){if(e.id===t)return e;if(null!=e.children){var n,a=null;for(n=0;null==a&&n<e.children.length;n++)a=N(e.children[n],t);return a}return null}var C=function(){var e=Object(a.useState)(O),t=Object(s.a)(e,2),n=t[0],l=t[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),_=o[0],m=o[1],f=Object(a.useState)(""),b=Object(s.a)(f,2),g=b[0],v=b[1];return Object(a.useEffect)(function(){!function(){var e=Object(c.a)(d.a.mark(function e(){var t,n,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),t=window.calc_assets_url+"/"+window.calc_service_uid,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).data&&l(a.data),m(!1);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},_?r.a.createElement("div",null,"Loading ..."):r.a.createElement(a.Fragment,null,r.a.createElement(h,{data:n,shouldExpandNode:function(e){return!0}}),r.a.createElement("p",null,"Calc Sum Longest Path"),r.a.createElement("button",{onClick:function(){console.log("sending data"),fetch(window.calc_assets_url+"/"+window.calc_service_uid,{method:"POST",mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":"true"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){console.log(e.data.sum_lp),v(e.data.sum_lp)}).catch(function(e){console.log("Error:"+e)})}},"Send to Calc Service"),r.a.createElement("p",null,"Current Sum: ",g),r.a.createElement("p",null,"Add a new Node"),r.a.createElement(w,{handleValues:function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0";j++;var l=N(e,parseInt(t)),i={node_value_display:n,id:j,children:[],member_details:Object(p.a)({left_or_right:a,number_children:r})};if(null==l.children&&(l.children=[]),l.children.length<2){l.children.push(i),l.member_details.set("number_children",l.children.length);var o={};o[j]=l.id,S=Object(u.a)({},S,o)}else console.log("find another node")}(n,e.parent_node_id,e.node_value_display,e.left_or_right,e.number_children)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[170,1,2]]]);
//# sourceMappingURL=main.627dbf1d.chunk.js.map